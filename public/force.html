<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Force-Directed Graph with Dynamic Viewport</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }

        #graphCanvas {
            display: block;
            width: 100%;
            border-bottom: 1px solid #ccc;
        }
    </style>
</head>

<body>
    <canvas id="graphCanvas"></canvas>
    <hr/>
    <button onclick="stopAnimation()">Stop Animation</button>
    <button onclick="loadState()">Load State</button>
    <script>
        const canvas = document.getElementById('graphCanvas');
        const ctx = canvas.getContext('2d');

        // Adjust canvas to fit the screen
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight * 0.8;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();


        const negative = "negative"
        const positive = "positive"
        const neutral = "neutral"
        const dashed = 'dashed'
        const other = "other"
        const biodata = "biodata"
        const docselection="docselection"
        const scheduler="scheduler"
        const payment="payment"
        const box="box"
        const circle="circle"
        const diamond="diamond"

        // Graph Data
        const names = {};
        names["home"] = { text: "Home/Landing Page", shape:box, group:other, children: [] };
        names["disclosures"] = { text: "Disclosures", shape:box, group:other,children: [] };
        names["signin"] = { text: "Sign In",  shape:box, group:biodata,children: [] };
        names["password"] = { text: "Password Reset", shape:box,  group:"terminal",children: [] };
        names["MFA"] = { text: "MFA",  shape:box, group:biodata,children: [] };
        names["signup"] = { text: "Sign Up",  shape:box, group:biodata,children: [] };
        names["account"] = { text: "Account Details", shape:box, group:biodata, children:[]};
        names["associate"] = { text: "Associate to account", shape:box, group:"terminal", children:[]};
        names["existing"] = { text: "Existing enrollment in Snow?", shape:diamond, group:biodata, children:[]};
        names["STA"] = { text: "STA Lookup", shape:diamond, group:"terminal", children:[]};
        names["ARS"] = { text: "Active Renewal in Snow", shape:diamond, group:"terminal", children:[]};
        names["AES"] = { text: "Active Enrollment in Snow", shape:diamond, group:other, children:[]};
        names["EtR"] = { text: "Eligible to renew", shape:diamond, group:"terminal", children:[]};
        names["CLSS"] = { text: "Continue from last saved step", shape:box, group:"terminal", children:[]};
        names["EFD"] = { text: "End flow/dashboard", shape:box, group:"terminal", children:[]};
        names["PFR"] = { text: "Prompt for renewal", shape:diamond, group:"terminal", children:[]};
        names["RR"] = { text: "Reprint required", shape:diamond, group:other, children:[]};
        names["PEC"] = { text: "Pre Enrollment Complete", shape:diamond, group:"terminal", children:[]};
        names["CfLSEF"] = { text: "Continue from last saved enrollment flow", shape:box, group:"terminal", children:[]};
        names["EFD2"] = { text: "End flow/Dash2", shape:box, group:"terminal", children:[]};


        names["home"].children = [{id:"disclosures", mood:neutral}];
        names["disclosures"].children = [{id:"signin", mood:neutral}];
        names["signin"].children = [{id:"password", mood:neutral},{id:"MFA", mood:neutral},{id:"signup", mood:dashed}];
        names["signup"].children = [{id:"account", mood:neutral}];
        names["account"].children = [{id:"existing", mood:neutral}]
        names["existing"].children = [{id:"signin", mood:negative}, {id:"associate", mood:positive}]
        names["MFA"].children = [{id:"STA", mood:neutral}]
        names["STA"].children = [{id:"ARS", mood:positive},{id:"AES", mood:negative}]
        names["ARS"].children = [{id:"EtR", mood:negative},{id:"CLSS", mood:positive}]
        names["EtR"].children = [{id:"EFD", mood:negative},{id:"PFR", mood:positive}]
        names["PFR"].children = [{id:"EFD", mood:negative}, {id:"RR", mood:positive}]
        names["AES"].children = [{id:"PEC", mood:positive}]
        names["PEC"].children = [{id:"CfLSEF", mood:negative},{id:"EFD2", mood:positive}]


        
        


    </script>


    <script src="force.js"></script>


</body>

</html>